<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tombol Cinta</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(to bottom right, #ffdde1, #ee9ca7); /* Tema cinta */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden; /* Sembunyikan overflow untuk animasi teks cinta */
            position: relative; /* Diperlukan untuk posisi absolut teks cinta */
        }

        .button-container {
            display: flex;
            flex-direction: column; /* Tombol diatur secara vertikal */
            gap: 20px;
            position: relative; /* Untuk posisi tombol 'Tidak' */
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            max-width: 90%; /* Responsif */
            width: 400px;
            align-items: center;
            transition: opacity 1s ease-out; /* Transisi untuk memudar */
        }

        .button-container.fade-out {
            opacity: 0;
        }

        .love-button {
            padding: 15px 30px;
            border-radius: 9999px; /* Sangat bulat */
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: none;
            outline: none;
            white-space: nowrap; /* Pastikan teks tidak pecah */
        }

        .yes-button {
            background-color: #ef4444; /* Merah cerah */
            color: white;
        }

        .yes-button:hover {
            background-color: #dc2626;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .no-button {
            background-color: #f87171; /* Merah muda */
            color: white;
            position: relative; /* Awalnya relatif, akan diubah menjadi absolut */
            transition: all 0.3s ease; /* Transisi untuk pergeseran */
        }

        .no-button.absolute-pos {
            position: absolute; /* Ganti ke posisi absolut saat bergeser */
        }

        .no-button:hover {
            background-color: #ef4444;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .love-text-container {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Izinkan klik melewati elemen ini */
            overflow: hidden; /* Pastikan teks cinta tidak keluar dari area */
            z-index: 10; /* Pastikan di atas elemen lain */
        }

        /* Gaya untuk partikel hujan cinta */
        .love-rain-particle {
            position: absolute;
            font-size: 1.8rem;
            color: #ef4444; /* Warna merah */
            opacity: 0;
            animation: fallAndFade linear forwards;
            pointer-events: none;
            white-space: nowrap;
            z-index: 100; /* Pastikan di atas semua elemen lain */
        }

        @keyframes fallAndFade {
            0% {
                transform: translateY(-50px) scale(0.8); /* Mulai di atas layar */
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(calc(100vh + 50px)) scale(1.2); /* Jatuh di bawah layar */
                opacity: 0;
            }
        }

        /* Gaya untuk emoji memelas */
        .pleading-particle {
            position: absolute;
            font-size: 2.5rem; /* Ukuran lebih besar untuk visibilitas */
            opacity: 0;
            animation: pleadPop 1.5s forwards; /* Durasi animasi */
            pointer-events: none;
            z-index: 10; /* Pastikan di atas elemen lain */
        }

        @keyframes pleadPop {
            0% {
                transform: translate(-50%, -50%) scale(0.5); /* Mulai lebih kecil, di tengah tombol */
                opacity: 0;
            }
            20% {
                opacity: 1;
                transform: translate(-50%, -80%) scale(1.2); /* Muncul dan sedikit lebih besar */
            }
            80% {
                opacity: 1;
                transform: translate(-50%, -120%) scale(1.0); /* Terus bergerak ke atas */
            }
            100% {
                opacity: 0;
                transform: translate(-50%, -150%) scale(0.8); /* Memudar dan bergerak lebih jauh ke atas */
            }
        }

        /* Responsif untuk layar kecil */
        @media (max-width: 600px) {
            .love-button {
                padding: 12px 25px;
                font-size: 1.2rem;
            }
            .button-container {
                padding: 15px;
                width: 95%;
            }
            .love-rain-particle, .pleading-particle {
                font-size: 1.2rem; /* Ukuran lebih kecil untuk mobile */
            }
        }
    </style>
</head>
<body>
    <div class="button-container" id="buttonContainer">
        <h1 class="text-3xl md:text-4xl font-bold text-red-600 mb-6 text-center">Maukah Kamu Jadi Milikku?</h1>
        <div id="yesButtonWrapper" class="flex flex-col gap-4 w-full items-center">
            <button id="yesButton" class="love-button yes-button w-3/4 md:w-1/2">Iya!</button>
        </div>
        <button id="noButton" class="love-button no-button w-3/4 md:w-1/2">Tidak</button>
    </div>

    <div class="love-text-container" id="loveTextContainer"></div>

    <script>
        const yesButtonWrapper = document.getElementById('yesButtonWrapper');
        const noButton = document.getElementById('noButton');
        const buttonContainer = document.getElementById('buttonContainer');
        const loveTextContainer = document.getElementById('loveTextContainer');

        // Fungsi untuk membuat tombol "Iya" baru
        function createYesButton() {
            const newYesButton = document.createElement('button');
            newYesButton.textContent = 'Iya!';
            newYesButton.className = 'love-button yes-button w-3/4 md:w-1/2';
            newYesButton.addEventListener('click', handleYesClick);
            yesButtonWrapper.appendChild(newYesButton);
        }

        // Fungsi untuk menangani klik tombol "Iya"
        function handleYesClick(event) {
            // Hapus partikel yang mungkin ada dari klik sebelumnya
            loveTextContainer.innerHTML = '';

            // Tambahkan kelas fade-out ke container tombol
            buttonContainer.classList.add('fade-out');

            // Setelah transisi pudar selesai (1 detik), hapus container tombol dan mulai hujan cinta
            setTimeout(() => {
                buttonContainer.remove(); // Hapus container tombol dari DOM
                startLoveRain(); // Mulai animasi hujan cinta
            }, 1000); // Waktu ini harus sesuai dengan durasi transisi 'opacity' di CSS

            // Setelah 5 detik, alihkan ke URL yang ditentukan
            setTimeout(() => {
                window.location.href = "https://afgans.github.io/ARell/index.html";
            }, 5000); // 5000 milidetik = 5 detik
        }

        // Fungsi untuk memulai hujan teks "I Love You"
        function startLoveRain() {
            // Pastikan loveTextContainer memiliki z-index yang tinggi agar terlihat di atas
            loveTextContainer.style.zIndex = '999';

            // Buat partikel hujan cinta secara berkala
            setInterval(() => {
                const loveParticle = document.createElement('span');
                loveParticle.textContent = 'I Love You â¤ï¸'; // Teks dan emoji
                loveParticle.className = 'love-rain-particle';

                // Posisi awal acak (dari kiri ke kanan layar)
                const startX = Math.random() * window.innerWidth;
                loveParticle.style.left = `${startX}px`;

                // Durasi dan penundaan animasi acak untuk efek hujan yang lebih alami
                const duration = Math.random() * 5 + 5; // Durasi 5 hingga 10 detik
                const delay = Math.random() * 2; // Penundaan 0 hingga 2 detik

                loveParticle.style.animationDuration = `${duration}s`;
                loveParticle.style.animationDelay = `${delay}s`;

                loveTextContainer.appendChild(loveParticle);

                // Hapus partikel setelah animasinya selesai untuk menjaga DOM tetap bersih
                loveParticle.addEventListener('animationend', () => {
                    loveParticle.remove();
                });
            }, 200); // Buat partikel baru setiap 200ms
        }

        // Fungsi untuk membuat emoji memelas
        function createPleadingEmoji(buttonRect) {
            const pleadingParticle = document.createElement('span');
            pleadingParticle.textContent = 'ðŸ¥º'; // Emoji memelas
            pleadingParticle.className = 'pleading-particle';

            // Posisi emoji relatif terhadap tombol 'Tidak'
            const containerRect = loveTextContainer.getBoundingClientRect();
            const startX = buttonRect.left + buttonRect.width / 2 - containerRect.left;
            const startY = buttonRect.top + buttonRect.height / 2 - containerRect.top;

            pleadingParticle.style.left = `${startX}px`;
            pleadingParticle.style.top = `${startY}px`;

            loveTextContainer.appendChild(pleadingParticle);

            // Hapus partikel setelah animasinya selesai
            pleadingParticle.addEventListener('animationend', () => {
                pleadingParticle.remove();
            });
        }

        // Tambahkan event listener untuk tombol "Iya" awal
        document.getElementById('yesButton').addEventListener('click', handleYesClick);

        // Fungsi untuk menangani klik tombol "Tidak"
        noButton.addEventListener('click', () => {
            // Dapatkan dimensi kontainer tombol
            const containerWidth = buttonContainer.offsetWidth;
            const containerHeight = buttonContainer.offsetHeight;
            const buttonWidth = noButton.offsetWidth;
            const buttonHeight = noButton.offsetHeight;

            // Hitung posisi acak baru dalam batas kontainer
            // Pastikan tombol tidak keluar dari kontainer
            const newLeft = Math.random() * (containerWidth - buttonWidth - 40) + 20; // 20px padding dari tepi
            const newTop = Math.random() * (containerHeight - buttonHeight - 40) + 20;

            // Ubah posisi tombol "Tidak"
            noButton.classList.add('absolute-pos'); // Tambahkan kelas untuk posisi absolut
            noButton.style.left = `${newLeft}px`;
            noButton.style.top = `${newTop}px`;

            // Lipat gandakan tombol "Iya"
            createYesButton();

            // Buat emoji memelas
            createPleadingEmoji(noButton.getBoundingClientRect());
        });

        // Pastikan tombol "Tidak" kembali ke posisi relatif jika kontainer diubah ukurannya
        window.addEventListener('resize', () => {
            if (noButton.classList.contains('absolute-pos')) {
                noButton.classList.remove('absolute-pos');
                noButton.style.left = '';
                noButton.style.top = '';
            }
        });
    </script>
</body>
</html>

